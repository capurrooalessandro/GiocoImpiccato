<html>
<head>
	<title>Gioco dell'impiccato JQuery version (why)</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script>
		var parola = [];
		var parolaUnderscore = [];
		var max = 8;
		var nTent = max;
		var vinto = false;
		var omino = [];
		omino[0] = "img0.png";
		omino[1] = "img1.png";
		omino[2] = "img2.png";
		omino[3] = "img3.png";
		omino[4] = "img4.png";
		omino[5] = "img5.png";
		omino[6] = "img6.png";
		omino[7] = "img7.png";
		
		$(document).ready(function(){
			$("#inizia").click(function(){
				document.getElementById("img").src= "blank.png";
				nTent = max;
				vinto = false;
				document.getElementById("tent").innerHTML= "Tentativi rimasti:" + nTent;
				var paroladaInserire = prompt("Inserire una parola:");
				if(paroladaInserire != null){
					parola = paroladaInserire;
					var str = parola.toString(); //l'array viene convertito in stringa
					var wordSplt = str.split(""); //la parola contenuta nella stringa viene divisa in lettere
					parolaUnderscore = wordSplt.fill("_",1,wordSplt.length-1); /*le lettere comprese tra la prima e l'ultima vengono sostituite dal trattino basso*/
					document.getElementById("parola").innerHTML = parolaUnderscore;	
				}
			});
		});
		function controllaLettera(lettera){
			var i;
			if((nTent > 0) && (vinto == false)){
				for(i = 1; i < parola.length - 1; i++){
					if(lettera == parola[i]){
						for(i = 1; i < parolaUnderscore.length; i++){
							if(parola[i] == lettera){
								parolaUnderscore[i] = lettera;
							}
						}
						document.getElementById("parola").innerHTML = parolaUnderscore;
						break;
					}
				}
				if(i == parola.length - 1){
					nTent--;
					document.getElementById("img").src= omino[max-nTent-1];
					document.getElementById("tent").innerHTML= "Tentativi rimasti:" + nTent;
				}
			}
			var str = parolaUnderscore.join("");
			if(parola.localeCompare(str) == 0){	
				document.getElementById("parola").innerHTML = str;
				vinto = true;
				document.getElementById("img").src= "win.jpg";
				document.getElementById("tent").innerHTML= "Hai vinto";
			}
			if(nTent == 0){
				document.getElementById("tent").innerHTML= "Hai perso";
			}
		}															
	</script>
	<style>
		input[id = "tastiera"]{
			width: 100px;
			height: 50px;
			margin-bottom: 5;
			font-size: 25px;
		}
		
		input[id = "inizia"]{
			width: 180px;
			height: 50px;
			margin-bottom: 5;
			font-size: 25px;
		}
		
		
		p{
			font-size: 40px;
			font-family: verdana;
		}
		
		.main{
			font-family: arial;
			margin-left: 50px;
			font-size: 50px;
		}
		
		img{
			float: right;
			margin-top: -500px;
		}
		
	</style>
</head>
<body>
	<div class="main">
	<h2>Gioco dell'impiccato (JQuery)</h2>
	<h2>Gruppo V</h2>
	<br>
	<input type="button" id="inizia" value="Nuova partita">
	<p id="parola"></p>
	<h3 id="tent"></h3>
	<form>
		<br>
		<input type="button" id="tastiera" value="q" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="w" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="e" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="r" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="t" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="y" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="u" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="i" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="o" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="p" onclick="controllaLettera(this.value)">
		<br>
		<input type="button" id="tastiera" value="a" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="s" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="d" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="f" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="g" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="h" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="j" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="k" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="l" onclick="controllaLettera(this.value)">
		<br>
		<input type="button" id="tastiera" value="z" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="x" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="c" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="v" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="b" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="n" onclick="controllaLettera(this.value)">
		<input type="button" id="tastiera" value="m" onclick="controllaLettera(this.value)">
	</form>
	<img src="blank.png" id="img"/>
	</div>
</body>
</html>